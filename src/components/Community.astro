---
import users from '../data/comunity.json'
import UserCard from '../components/ui/UserCard.astro'
import Button from '../components/ui/Button.astro'

const col1 = users.filter((_, i) => i % 3 === 0)
const col2 = users.filter((_, i) => i % 3 === 1)
const col3 = users.filter((_, i) => i % 3 === 2)
---

<section
  class="relative flex min-h-screen w-full flex-col items-center justify-center gap-11 overflow-hidden bg-black text-white"
>
  <!-- Mask as gradient background at top and bottom -->
  <div
    class="pointer-events-none absolute inset-0 h-full w-full bg-gradient-to-b from-transparent via-black/60 to-black"
  >
  </div>

  <hgroup class="z-10 flex flex-col items-center gap-8 px-4 text-center">
    <h2 class="text-5xl font-bold drop-shadow-md">Comunidad</h2>
    <p class="text-lg md:text-xl">Conecta, colabora y encuentra apoyo en cada paso de tu camino.</p>
  </hgroup>

  <!-- Columns -->
  <article class="z-10 mt-6 flex w-full justify-center gap-6 overflow-hidden px-8">
    <div class="scroll-column scroll-down flex flex-col gap-4">
      {col1.map((user, i) => <UserCard user={user} key={`col1-${i}`} />)}
    </div>
    <div class="scroll-column scroll-up flex flex-col gap-4">
      {col2.map((user, i) => <UserCard user={user} key={`col2-${i}`} />)}
    </div>
    <div class="scroll-column scroll-down flex flex-col gap-4">
      {col3.map((user, i) => <UserCard user={user} key={`col3-${i}`} />)}
    </div>
  </article>
  <article class="z-10">
    <Button href="#conocenos">Con√≥cenos</Button>
  </article>
</section>
